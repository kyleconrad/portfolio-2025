---
// @ts-nocheck

import { imageResponsive } from "../lib/contentful";

const { image } = Astro.props;

const imageSrcset = imageResponsive( image.url, image.width );
---
<picture class="rounded overflow--hidden" nopin="nopin">
    <source
        type="image/avif"
        data-flickity-lazyload-srcset={ imageSrcset.avif }
        sizes={ imageSrcset.sizes }
    />
    <source
        type="image/webp"
        data-flickity-lazyload-srcset={ imageSrcset.webp }
        sizes={ imageSrcset.sizes }
    />
    <img
        data-flickity-lazyload-srcset={ imageSrcset.srcset }
        sizes={ imageSrcset.sizes }
        data-flickity-lazyload-src={ image.url }
        width={ image.width }
        height={ image.height }
        alt={ image.description }
        decoding="async"
        nopin="nopin"
    />
</picture>